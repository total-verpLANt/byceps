{% extends 'layout/base.html' %}
{% from 'macros/lan_tournament.html' import render_bracket, render_bracket_responsive_styles, render_simple_bracket_list %}
{% from 'macros/lan_tournament.html' import hover_card_styles %}
{% set page_title = [_('Bracket'), tournament.name] %}

{% block head %}
{{ hover_card_styles() }}
{{ render_bracket_responsive_styles() }}
{% endblock %}

{% block body %}

  <nav class='breadcrumbs'>
    <ol>
      <li><a href='{{ url_for('.index') }}'>{{ _('Tournaments') }}</a></li>
      <li><a href='{{ url_for('.view', tournament_id=tournament.id) }}'>
        {{ tournament.name }}
      </a></li>
    </ol>
  </nav>

  <h1 class='title'>{{ _('Tournament Bracket') }}</h1>

  <div class='bracket-desktop'>
    {{ render_bracket(match_data, tournament, teams_by_id, participants_by_id, seats_by_user_id=seats_by_user_id, team_members_by_team_id=team_members_by_team_id) }}
  </div>

  <div class='bracket-mobile'>
    {{ render_simple_bracket_list(match_data, teams_by_id, participants_by_id, seats_by_user_id=seats_by_user_id, team_members_by_team_id=team_members_by_team_id) }}
  </div>

  <div style='text-align: center; margin-top: 2rem;'>
    <a href='{{ url_for('.matches', tournament_id=tournament.id) }}'
       class='button'>
      {{ _('View Matches List') }}
    </a>
  </div>

{%- endblock %}
